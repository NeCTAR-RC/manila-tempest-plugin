# Stable branch jobs to test the trunk version of manila-tempest-plugin against
# released stable branches of manila
- job:
    name: manila-tempest-plugin-lvm-yoga
    parent: manila-tempest-plugin-lvm
    override-checkout: stable/yoga
    nodeset: openstack-single-node-focal
    vars:
        # NOTE(gouthamr): Disabled until https://launchpad.net/bugs/1940324 is
        # fixed.
        tempest_exclude_regex: "(^manila_tempest_tests.tests.scenario.*IPv6.*)"
        devstack_localrc:
            MANILA_SERVICE_IMAGE_ENABLED: True
            # NOTE(carloss): Pinning manila service image to a Focal version,
            # since on Zed we moved to Ubuntu Jammy (22), and it requires more
            # VM resources.
            MANILA_SERVICE_IMAGE_URL: https://tarballs.opendev.org/openstack/manila-image-elements/images/manila-service-image-1.3.0-76-ga216835.qcow2
            MANILA_SERVICE_IMAGE_NAME: manila-service-image-1.3.0-76-ga216835

- job:
    name: manila-tempest-plugin-lvm-xena
    parent: manila-tempest-plugin-lvm
    override-checkout: stable/xena
    nodeset: openstack-single-node-focal
    vars:
        # NOTE(gouthamr): Disabled until https://launchpad.net/bugs/1940324 is
        # fixed.
        tempest_exclude_regex: "(^manila_tempest_tests.tests.scenario.*IPv6.*)"
        devstack_localrc:
            # NOTE(carloss): Pinning manila service image to a Focal version,
            # since on Zed we moved to Ubuntu Jammy (22), and it requires more
            # VM resources.
            MANILA_SERVICE_IMAGE_ENABLED: True
            MANILA_SERVICE_IMAGE_URL: https://tarballs.opendev.org/openstack/manila-image-elements/images/manila-service-image-1.3.0-76-ga216835.qcow2
            MANILA_SERVICE_IMAGE_NAME: manila-service-image-1.3.0-76-ga216835

- job:
    name: manila-tempest-plugin-lvm-wallaby
    parent: manila-tempest-plugin-lvm
    override-checkout: stable/wallaby
    nodeset: openstack-single-node-focal
    vars:
        tempest_exclude_regex: ''
        devstack_localrc:
            # NOTE(carloss): Pinning manila service image to a Focal version,
            # since on Zed we moved to Ubuntu Jammy (22), and it requires more
            # VM resources.
            MANILA_SERVICE_IMAGE_ENABLED: True
            MANILA_SERVICE_IMAGE_URL: https://tarballs.opendev.org/openstack/manila-image-elements/images/manila-service-image-1.3.0-76-ga216835.qcow2
            MANILA_SERVICE_IMAGE_NAME: manila-service-image-1.3.0-76-ga216835
